<!doctype html>
<html>
    <head>
        <style>
            .dynamic-row-col-label {
                font-weight: bold;
                margin-left: 8px;
                margin-right: 4px;
            }

            .dynamic-row-add-button {
                background: #00B37B;
                color: white;
            }
        </style>
    </head>
    <body>
        <h1>Hello world</h1>
        <form id="foo">
            <div id="wrapper"></div>
            <br/>
            <input type="submit"></input>
        </form>
        <script src="js/jquery.min.js"></script>
        <script src="js/generateFormContent.js"></script>
        <script>
            window.onload = function() {
                var data = {
                    "pages":[{
                         "title":"Test page",
                         "questions":[{
                            "type":"dynamic-row",
                            "question":"Household info",
                            "id":"household",
                            "columns": [
                                {
                                    "type": "radio",
                                    "id": "gender",
                                    "text": "Gender",
                                    "options":[
                                        {
                                         "value":"Male",
                                         "id":"male"
                                        },
                                        {
                                         "value":"Female",
                                         "id":"female"
                                        }
                                    ]
                                },
                                {
                                    "type": "dropdown",
                                    "text": "Age",
                                    "id": "age",
                                    "options": [
                                        {
                                         "value":"0-3 yrs",
                                         "id":"0-3"
                                        },
                                        {
                                         "value":"4-9 yrs",
                                         "id":"4-9"
                                        },
                                        {
                                         "value":"10-17 yrs",
                                         "id":"10-17"
                                        },
                                        {
                                         "value":"18-29 yrs",
                                         "id":"18-29"
                                        },
                                        {
                                         "value":"30-59 yrs",
                                         "id":"30-59"
                                        },
                                        {
                                         "value":"60+",
                                         "id":"60+"
                                        }
                                    ]
                                },
                                {
                                    "type": "text",
                                    "text": "Sample text",
                                    "id": "sampletext"
                                }
                            ]
                        }]
                    }]
                };



                var $form = $('#foo');
                var $container = $form.find("#wrapper");
                $container.append(generateFormContent(data));

                $form.on('submit', function(e) {
                    e.preventDefault();

                    var $serialized = $form.serializeArray();
                    console.log($serialized);
                    alert(JSON.stringify($serialized));
                });
            }
        </script>
    </body>
</html>
